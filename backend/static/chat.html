<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>COCO_AI // Neural Interface</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        margin: 0;
        background: radial-gradient(circle at center, #001b14, #000);
        font-family: "Courier New", monospace;
        color: #00ffcc;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .terminal {
        width: 95%;
        max-width: 420px;
        height: 85vh;
        border: 2px solid #00ffcc;
        box-shadow: 0 0 25px #00ffcc;
        display: flex;
        flex-direction: column;
        background: rgba(0, 20, 15, 0.95);
    }

    .header {
        padding: 10px;
        border-bottom: 1px solid #00ffcc;
        font-weight: bold;
        text-align: center;
    }

    .system {
        font-size: 12px;
        opacity: 0.8;
        padding: 6px 10px;
        border-bottom: 1px dashed #00ffcc;
    }

    .chat {
        flex: 1;
        padding: 10px;
        overflow-y: auto;
        font-size: 14px;
        line-height: 1.5;
    }

    .user {
        color: #7fffd4;
        margin-bottom: 4px;
    }

    .ai {
        color: #00ffcc;
        margin-bottom: 10px;
    }

    .input-box {
        display: flex;
        border-top: 1px solid #00ffcc;
    }

    input {
        flex: 1;
        background: black;
        border: none;
        padding: 10px;
        color: #00ffcc;
        font-family: inherit;
        font-size: 14px;
        outline: none;
    }

    button {
        background: #00ffcc;
        border: none;
        padding: 10px 16px;
        cursor: pointer;
        font-weight: bold;
    }

    button:hover {
        background: #00ddb0;
    }
</style>
</head>

<body>

<div class="terminal">
    <div class="header">COCO_AI // Neural Interface Online</div>
    <div class="system">[SYSTEM] Press ENTER to send Â· CTRL + L to clear</div>

    <div id="chat" class="chat"></div>

    <div class="input-box">
        <input id="input" placeholder="> type command..." autocomplete="off">
        <button onclick="send()">SEND</button>
    </div>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");

function addLine(cls, text) {
    const div = document.createElement("div");
    div.className = cls;
    div.textContent = text;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

async function send() {
    const msg = input.value.trim();
    if (!msg) return;

    addLine("user", "YOU > " + msg);
    input.value = "";

    try {
        const res = await fetch("/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message: msg })
        });

        const data = await res.json();
        addLine("ai", "COCO > " + data.reply);

    } catch (err) {
        addLine("ai", "COCO > [ERROR] Connection failed");
    }
}

input.addEventListener("keydown", e => {
    if (e.key === "Enter") {
        send();
    }
    if (e.ctrlKey && e.key.toLowerCase() === "l") {
        chat.innerHTML = "";
    }
});
</script>

</body>
</html>
